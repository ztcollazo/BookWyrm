<% if signed_in? %>
  <div class="flex flex-col items-center justify-between gap-5">
    <h1 class="md:text-5xl text-3xl text-center md:text-left font-light w-full">Hello, &nbsp;<%= current_user.first_name %></h1>
    <h2 class="md:text-3xl text-2xl font-bold text-center md:text-left w-full">Your recent activity</h2>
    <div class="mb-10 flex flex-col self-center justify-start items-start w-full">
      <% if current_user.reviews.order('created_at DESC').limit(3).empty? %>
        <p class="font-semibold text-xl text-center w-full md:text-left mt-3 mb-5 mx-2">No recent activity.</p>
      <% else %>
        <% current_user.reviews.order('created_at DESC').limit(3).each do |review| %>
          <div class="flex mt-5 items-center md:gap-10 flex-wrap md:flex-nowrap justify-start">
            <p class="text-center w-full md:w-max font-bold mb-4 md:mb-0">You reviewed</p>
            <div class="w-full">
              <%= render review.book, link: true %>
            </div>
          </div>
        <% end %>
      <% end %>
      <div class="flex justify-around w-full mt-10 sm:flex-nowrap flex-wrap gap-4">
        <a class="text-primary self-center text-center hover-underline text-lg" href="<%= books_recommended_path %>">Find a book to read.</a>
        <a class="text-primary self-center text-center hover-underline text-lg" href="<%= new_book_path %>">Add a book to Bookwyrm.</a>
      </div>
    </div>
  </div>
<% else %>
  <div class="flex justify-between gap-4 items-center h-full w-full md:flex-nowrap flex-wrap">
    <div class="flex flex-col justify-center gap-4 w-full mb-10 h-full md:pr-20">
      <h1 class="md:text-7xl sm:text-5xl text-4xl font-bold font-bubbblegum">Bookwyrm</h1>
      <h2 class="md:text-5xl sm:text-3xl text-2xl font-extralight font-bubbblegum">The place for all books</h2>
      <%=  button_to 'Sign up', signup_path, class: 'btn mt-10 btn-primary w-full'  %>
    </div>
    <div class="w-full h-full">
      <form class="w-full flex flex-col h-full justify-center gap-6" action="<%= search_path %>" method="get">
        <input type="text" name="q" placeholder="Search BookWyrm"/>
        <input type="submit" value="Search" class="btn btn-primary btn-outline px-3 p-2"/>
      </form>
    </div>
  </div>
<% end %>
