<%= provide :title, "#{@user.username} (#{@user.first_name} #{@user.last_name})" %>

<div class="flex m-auto justify-around items-start flex-wrap lg:flex-nowrap">
  <div class="flex w-max flex-col justify-start items-start">
    <div class="flex justify-around w-max items-start">
      <%= gravatar_for @user, size: 128, class: 'md:max-w-32 max-w-24' %>
      <div class="flex flex-col m-4 p-4 gap-4">
        <h1 class="text-3xl font-bold"><%= @user.first_name %> <%= @user.last_name %></h1>
        <h3 class="text-lg text-gray-500">@<%= @user.username %></h3>
      </div>
    </div>
    <p class="text-md text-gray-500 px-4">Joined <%= time_ago_in_words(@user.created_at) %> ago</p>
  </div>
  <div class="p-5 w-max lg:mt-0 mt-10">
    <h1 class="text-4xl font-bold mb-4 <%= 'text-center' if @user.reviews.empty? %>">Books Reviewed</h1>
    <div class="flex flex-col gap-5 justify-around items-center">
      <% if @user.reviews.empty? %>
        <p class="text-lg text-center mt-10"><%= @user === current_user ? 'You haven\'t' : "#{@user.username} hasn't" %> reviewed any books yet.</p>
      <% else %>
        <% @user.reviews.each do |review| %>
          <%= render review.book, link: true %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
